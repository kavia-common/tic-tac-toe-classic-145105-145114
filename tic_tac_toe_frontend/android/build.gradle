//
// Android-level Gradle build shim for Expo-managed workflow.
// This provides fallback repositories and classpath dependencies for analyzers
// that invoke Gradle directly before the Expo prebuild-generated files are fully configured.
//
buildscript {
    repositories {
        google()
        mavenCentral()
        gradlePluginPortal()
    }
    // Fallback versions compatible with RN 0.79.x / Gradle 8.13 used by Expo SDK 53.
    // The real generated project may override these.
    dependencies {
        classpath("com.android.tools.build:gradle:8.5.2")
        classpath("org.jetbrains.kotlin:kotlin-gradle-plugin:1.9.24")
        // Do not force react-native-gradle-plugin here; it is applied via the generated project when needed.
    }
}

allprojects {
    repositories {
        google()
        mavenCentral()
    }
}

/**
 * Provide a no-op check task for analyzers invoking ':android:check'.
 */
tasks.register("check") {
    group = "verification"
    description = "No-op check task for Android shim."
    doLast {
        println("Android Gradle shim: Use './gradlew assembleDebug' after Expo prebuild.")
    }
}

// Provide a no-op default to avoid failures if no tasks are specified.
tasks.register("helpShim") {
    doLast {
        println("Android Gradle shim: Use './gradlew assembleDebug' after Expo prebuild.")
    }
}
