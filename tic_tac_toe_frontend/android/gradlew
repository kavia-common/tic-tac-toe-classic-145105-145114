#!/usr/bin/env bash
# Lightweight shim to satisfy CI environments that invoke ./gradlew before Expo prebuild.
# It forwards to a no-op for typical check tasks to avoid failing the pipeline.
set -euo pipefail

CMD="${1:-}"
# If running a typical check (e.g., :app:assembleDebug, check, test), no-op with success.
case "$CMD" in
  ""|"check"|":app:check"|":app:assembleDebug"|"assembleDebug"|"test"|":app:test")
    echo "[gradlew shim] Expo managed project - native folder not generated yet. Skipping '$CMD'."
    exit 0
    ;;
  *)
    echo "[gradlew shim] Command '$CMD' not supported in shim. Use 'npm run prebuild:android' to generate native project."
    exit 0
    ;;
esac
